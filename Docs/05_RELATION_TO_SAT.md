# SAP² — Relation to Small Audio Toolkit (SAT)

## Purpose of this document

This document describes the **explicit relationship** between SAP²
(Small Audio Post-Processor) and **Small Audio Toolkit (SAT)**.

Its purpose is to clarify:
- how the two projects interact,
- what each project is responsible for,
- and why their separation is both intentional and necessary.

---

## 1. Distinct roles

SAP² and SAT serve **fundamentally different purposes**.

### Small Audio Toolkit (SAT)

SAT is an **instrument**.

It is responsible for:
- loading audio data,
- performing signal measurements,
- producing objective numerical results,
- exporting those results in a structured form (`results.json`).

SAT:
- does not reason about decodability,
- does not infer meaning,
- does not attempt decoding.

SAT answers the question:
> “What was measured, and how?”

---

### SAP² (Small Audio Post-Processor)

SAP² is a **reasoning framework**.

It is responsible for:
- examining measured results,
- comparing them against known decoding requirements,
- determining structural compatibility,
- documenting applicability or inapplicability.

SAP²:
- does not process raw audio,
- does not generate measurements,
- does not modify SAT outputs.

SAP² answers the question:
> “Given what was measured, what decoding attempts are structurally justified?”

---

## 2. Direction of dependency

The dependency between the two projects is **one-way**:

```
SAT  →  SAP²
``

- SAP² depends on SAT outputs.
- SAT must never depend on SAP² logic.
- No circular dependency is permitted.

This preserves the neutrality of SAT as a measurement instrument.

---

## 3. Contract of exchange

The sole interface between SAT and SAP² is:

- `results.json`
- optionally accompanied by `config_used.json`

These files constitute a **contract**:

- SAT guarantees traceable, reproducible measurements.
- SAP² guarantees non-interpretative reasoning based on those measurements.

No additional coupling is allowed.

---

## 4. Designing SAT protocols with SAP² in mind

While SAT is independent, SAP² provides a **feedback loop**:

- decoding methods define required input types,
- input types inform which measurements are necessary,
- measurements guide SAT protocol design.

This loop remains **conceptual**, not programmatic.

SAT is never modified automatically based on SAP² conclusions.

---

## 5. Independence and reuse

SAT can be used:
- without SAP²,
- for unrelated signal analysis tasks,
- as a standalone DSP instrument.

SAP² can be used:
- with historical SAT results,
- with results generated by alternative measurement tools,
- as long as the input grammar is satisfied.

This decoupling maximizes reuse and clarity.

---

## 6. Failure isolation

Failures in SAP²:
- do not imply failures in SAT,
- do not invalidate measurements,
- do not retroactively affect analysis protocols.

Likewise, limitations in SAT:
- are not compensated by SAP²,
- are documented explicitly if relevant.

---

## 7. Methodological consistency

The separation between SAT and SAP² ensures:

- measurements remain objective,
- reasoning remains explicit,
- interpretation remains human-driven.

This architecture prevents hidden feedback loops
and preserves analytical rigor.

---

## 8. Summary

SAT and SAP² form a **deliberate two-stage system**:

1. Measure everything without interpretation.
2. Reason about what those measurements allow.

Neither stage is sufficient alone.
Together, they form a rigorous, falsifiable analytical pipeline.

Keeping them separate is not an implementation detail.
It is a methodological choice.
